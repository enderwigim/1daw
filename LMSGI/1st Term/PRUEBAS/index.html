<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Document</title>
</head>
<body>
    <p id="saludo">Hola</p>
    <button onclick="initGame()">Empezar el juego</button>
    <button onclick="pauseGame()">Pausar el juego</button>
    <p id="log">log</p>
    <br>
    <canvas id="myCanvas" width="500" height="300" style="border: 1px black solid;"></canvas>
    
    <script>
        /*function changeContent() {
            let parrafo = document.getElementById("saludo")
            parrafo.innerHTML = "adios"
            parrafo.style.color = "magenta"
            parrafo.style.fontSize = "3em"
        }
        function drawLine() {
            let c = document.getElementById("myCanvas");
            let ctx = c.getContext("2d");
            ctx.moveTo(0, 0);
            ctx.lineTo(500, 300);
            ctx.stroke();

            ctx.beginPath();
            ctx.arc(250, 150, 100, 0, 2 * Math.PI);
            ctx.stroke();
        }
        */
        var pacman = {}
        var resume = false
        var currentTime = 0.0;

        function pauseGame() {
            resume = !resume
        }


        function initGame() {
            pacman.x = 200
            pacman.y = 150
            pacman.color = "yellow"


            window.requestAnimationFrame(onFrame)

        }
        
        function onFrame() {
            if (resume === false)
                animatePacman()
            drawGame()
            window.requestAnimationFrame(onFrame)
            currentTime += 0.01

        }

        function drawGame() {
            let c = document.getElementById("myCanvas")
            let ctx = c.getContext("2d")
            ctx.clearRect(0, 0, c.width, c.height);

            
            ctx.beginPath();
            ctx.arc(pacman.x, pacman.y, 40, 0, 2 * Math.PI * 0.85)
            ctx.stroke();
        }

        function logMessage(message) {
            let parrafo = document.getElementById("log")
            parrafo.innerHTML = message
        }

        function animatePacman() {
            
            
            let s = Math.sin(currentTime)
            let c = Math.cos(currentTime)
            let t = Math.tan(currentTime)
            let dx = s * 100
            let dy = c * 100

            pacman.x = 200 + dx
            pacman.y = 150 + dy

        }

        

        //changeContent()
    </script>
</body>
</html>